(()=>{var e={};e.id=455,e.ids=[455],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7310:e=>{"use strict";e.exports=require("url")},9833:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=a(7096),t=a(6132),n=a(7284),i=a.n(n),o=a(2564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(s,l);let c=["",{children:["dashboard",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9281)),"/workspaces/OneSelf/app/dashboard/settings/page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,7251)),"/workspaces/OneSelf/app/layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],d=["/workspaces/OneSelf/app/dashboard/settings/page.js"],x="/dashboard/settings/page",u={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/dashboard/settings/page",pathname:"/dashboard/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5133:(e,s,a)=>{Promise.resolve().then(a.bind(a,5107))},5107:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>SettingsPage});var r=a(784),t=a(4284),n=a(7114),i=a(9885),o=a(1440),l=a.n(o);function SettingsPage(){let{data:e,status:s}=(0,t.useSession)(),a=(0,n.useRouter)(),[o,c]=(0,i.useState)(null),[d,x]=(0,i.useState)(!0),[u,p]=(0,i.useState)(!1),[m,h]=(0,i.useState)("");async function loadPreferences(){try{let e=await fetch("/api/user/preferences");if(e.ok){let s=await e.json();c(s.preferences)}}catch(e){console.error("Erro ao carregar prefer\xeancias:",e)}finally{x(!1)}}async function savePreferences(){p(!0),h("");try{let e=await fetch("/api/user/preferences",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});e.ok?(h("Prefer\xeancias salvas com sucesso!"),setTimeout(()=>h(""),3e3)):h("Erro ao salvar prefer\xeancias")}catch(e){console.error("Erro ao salvar prefer\xeancias:",e),h("Erro ao salvar prefer\xeancias")}finally{p(!1)}}return((0,i.useEffect)(()=>{"unauthenticated"===s&&a.push("/")},[s,a]),(0,i.useEffect)(()=>{e?.user?.id&&loadPreferences()},[e]),"loading"===s||d)?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):"unauthenticated"===s?null:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-4",children:[r.jsx(l(),{href:"/dashboard",className:"text-blue-600 hover:text-blue-700 flex items-center gap-2 mb-4",children:"â† Voltar"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configura\xe7\xf5es"})]})}),(0,r.jsxs)("main",{className:"max-w-4xl mx-auto px-6 py-12",children:[m&&r.jsx("div",{className:`mb-6 p-4 rounded-lg ${m.includes("sucesso")?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:m}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow p-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Prefer\xeancias de Sincroniza\xe7\xe3o"}),o&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Sincroniza\xe7\xe3o Autom\xe1tica"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Sincronizar dados automaticamente entre suas contas"})]}),r.jsx("input",{type:"checkbox",checked:o.sync_enabled,onChange:e=>c({...o,sync_enabled:e.target.checked}),className:"w-5 h-5 text-blue-600 rounded"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Mesclar Duplicatas Automaticamente"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Detectar e mesclar contatos duplicados"})]}),r.jsx("input",{type:"checkbox",checked:o.auto_merge_duplicates,onChange:e=>c({...o,auto_merge_duplicates:e.target.checked}),className:"w-5 h-5 text-blue-600 rounded"})]}),(0,r.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("label",{className:"block font-medium text-gray-900 mb-3",children:"N\xedvel de Privacidade"}),(0,r.jsxs)("select",{value:o.privacy_level,onChange:e=>c({...o,privacy_level:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",children:[r.jsx("option",{value:"private",children:"Privado (Apenas voc\xea)"}),r.jsx("option",{value:"protected",children:"Protegido (Contas conectadas)"}),r.jsx("option",{value:"public",children:"P\xfablico"})]})]}),r.jsx("div",{className:"flex gap-4 pt-4",children:r.jsx("button",{onClick:savePreferences,disabled:u,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50",children:u?"Salvando...":"Salvar Prefer\xeancias"})})]})]}),(0,r.jsxs)("div",{className:"mt-8 bg-red-50 border-2 border-red-200 rounded-2xl p-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-red-900 mb-4",children:"Zona de Perigo"}),r.jsx("p",{className:"text-red-800 mb-4",children:"Estas a\xe7\xf5es s\xe3o irrevers\xedveis. Use com cuidado."}),r.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Deletar Conta"})]})]})]})}},9281:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var r=a(5153);let t=(0,r.createProxy)(String.raw`/workspaces/OneSelf/app/dashboard/settings/page.js`),{__esModule:n,$$typeof:i}=t,o=t.default,l=o}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[657,97,322,566],()=>__webpack_exec__(9833));module.exports=a})();