(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7310:e=>{"use strict";e.exports=require("url")},9993:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o});var r=a(7096),t=a(6132),i=a(7284),n=a.n(i),d=a(2564),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);a.d(s,l);let o=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,779)),"/workspaces/OneSelf/app/dashboard/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,7251)),"/workspaces/OneSelf/app/layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/OneSelf/app/dashboard/page.js"],u="/dashboard/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2233:(e,s,a)=>{Promise.resolve().then(a.bind(a,1485))},1485:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>DashboardPage});var r=a(784),t=a(4284),i=a(7114),n=a(9885),d=a(1440),l=a.n(d);function DashboardPage(){let{data:e,status:s}=(0,t.useSession)(),a=(0,i.useRouter)(),[d,o]=(0,n.useState)(null),[c,u]=(0,n.useState)([]),[m,x]=(0,n.useState)(!0);async function loadUserData(){try{let s=await fetch("/api/user/unified-profile");if(s.ok){let e=await s.json();o(e.user),u(e.providers||[])}else 503===s.status&&(console.warn("Supabase nao esta configurado. Usando dados da sessao."),o({id:e?.user?.id,email:e?.user?.email,name:e?.user?.name,unified_id:e?.user?.unifiedId,created_at:new Date().toISOString()}),u(e?.user?.provider?[{id:"1",provider:e.user.provider,provider_email:e?.user?.email,provider_name:e?.user?.name}]:[]))}catch(s){console.error("Erro ao carregar dados do usuario:",s),o({id:e?.user?.id,email:e?.user?.email,name:e?.user?.name,unified_id:e?.user?.unifiedId,created_at:new Date().toISOString()})}finally{x(!1)}}return((0,n.useEffect)(()=>{"unauthenticated"===s&&a.push("/")},[s,a]),(0,n.useEffect)(()=>{e?.user?.id&&loadUserData()},[e]),"loading"===s||m)?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):"unauthenticated"===s?null:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-4 flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"OneSelf"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Dashboard"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium text-gray-900",children:e?.user?.name}),r.jsx("p",{className:"text-sm text-gray-600",children:e?.user?.email})]}),r.jsx("button",{onClick:()=>(0,t.signOut)({callbackUrl:"/"}),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Sair"})]})]})}),(0,r.jsxs)("main",{className:"max-w-6xl mx-auto px-6 py-12",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl shadow-lg p-8 text-white mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Seu ID Unificado"}),r.jsx("p",{className:"text-blue-100 mb-4",children:"Todos os seus dados estao sincronizados em um unico perfil seguro"}),d&&r.jsx("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 font-mono text-sm break-all",children:d.unified_id})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contas Conectadas"}),r.jsx("div",{className:"space-y-3",children:c.length>0?c.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-lg",children:["google"===e.provider&&"\uD83D\uDD35","azure-ad"===e.provider&&"⬜","apple"===e.provider&&"\uD83C\uDF4E","credentials"===e.provider&&"\uD83D\uDD10"]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 capitalize",children:e.provider}),r.jsx("p",{className:"text-xs text-gray-600",children:e.provider_email||e.provider_name||"Conectado"})]})]}),r.jsx("span",{className:"text-green-600 text-sm font-medium",children:"✓ Ativo"})]},e.id)):r.jsx("p",{className:"text-gray-600 text-sm",children:"Nenhuma conta conectada"})}),r.jsx(l(),{href:"/dashboard/connect-account",className:"mt-4 block w-full text-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Conectar Nova Conta"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informacoes do Perfil"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Email Principal"}),r.jsx("p",{className:"font-medium text-gray-900",children:d?.email})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nome"}),r.jsx("p",{className:"font-medium text-gray-900",children:d?.name||"Nao definido"})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Membro Desde"}),r.jsx("p",{className:"font-medium text-gray-900",children:d?.created_at?new Date(d.created_at).toLocaleDateString("pt-BR"):"Hoje"})]})]}),r.jsx(l(),{href:"/dashboard/settings",className:"mt-4 block w-full text-center px-4 py-2 bg-gray-200 text-gray-900 rounded-lg hover:bg-gray-300 transition",children:"Editar Perfil"})]})]}),(0,r.jsxs)("div",{className:"mt-12 bg-blue-50 border border-blue-200 rounded-2xl p-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Como funciona o OneSelf?"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"O OneSelf unifica suas multiplas identidades digitais em um unico perfil. Voce pode conectar suas contas do Google, Microsoft e Apple, e todos os seus dados serao sincronizados e gerenciados de forma segura."}),(0,r.jsxs)("div",{className:"flex gap-4",children:[r.jsx("a",{href:"#",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Documentacao"}),r.jsx("a",{href:"#",className:"px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition",children:"Suporte"})]})]})]})]})}},779:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var r=a(5153);let t=(0,r.createProxy)(String.raw`/workspaces/OneSelf/app/dashboard/page.js`),{__esModule:i,$$typeof:n}=t,d=t.default,l=d}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[657,97,322,566],()=>__webpack_exec__(9993));module.exports=a})();